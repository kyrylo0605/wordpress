function tvc_staticInputField(e,t,p,n){return'<input type="text" name="static-input-field" id="static-input-field-'+e+"-"+t+"-"+p+'" class="static-input-field" value="'+(n=tvc_escapeHtml(n))+'" onchange="tvc_staticValueChanged('+e+", "+t+", "+p+')">'}function tvc_feedStaticValueSelector(e,t,p,n,i,o){return tvc_restrictedStaticFields(o,e).length>0?tvc_displayCorrectStaticField(t,p,n,o,e,i):tvc_staticInputField(t,p,n,i)}function tvc_staticInputSelect(e,t,p,n,i){var o='<div class="static-value-control" id="static-value-control-'+e+"-"+t+"-"+p+'">';o+='<select class="static-select-control input-select" id="static-condition-input-'+e+"-"+t+"-"+p+'" onchange="tvc_staticValueChanged('+e+", "+t+", "+p+')">';for(var a=0;a<n.length;a++){var s="object"!=typeof n[a]?n[a]:n[a].id,r="object"!=typeof n[a]?n[a]:n[a].value;o+=s!==i?'<option value="'+s+'">'+r.replace("_"," ")+"</option>":'<option value="'+s+'" selected>'+r.replace("_"," ")+"</option>"}return o+="</select></div>"}function tvc_advisedSourceSelector(e,t,p){return'<div class="advised-source">'+p+tvc_editSourceSelector(e,t)+"</div>"}function tvc_editSourceSelector(e,t){return' (<a class="edit-output tvc-btn tvc-btn-small" href="javascript:void(0)" onclick="'+("tvc_editOutput( "+e+", "+t+" )")+'">'+tvc_feed_settings_form_vars.edit+"</a>)"}function tvc_forAllProductsCondition(e,t,p){var n=t>0?tvc_feed_settings_form_vars.other+" ":"";return'<div class="colw col40w allproducts" id="condition-col-'+e+"-"+t+'" style="display:'+p+'"> '+tvc_feed_settings_form_vars.all_other_products.replace("%other%",n)+' &nbsp;<a class="edit-prod-query tvc-btn tvc-btn-small" href="javascript:void(0)" id="edit-prod-query-'+e+'" onclick="tvc_addCondition('+e+", "+t+", 0, '')\"><i class='fas fa-edit'></i></a></div>"}function tvc_editValueSpan(e,t,p,n){return'<div class="edit-value-control" id="value-editor-input-query-add-span-'+e+"-"+t+"-"+p+'" style="display:'+n+'"><p><a class="edit-prod-query tvc-btn tvc-btn-small" href="javascript:void(0)" id="edit-row-value-'+e+"-"+t+"-"+p+'" onclick="tvc_addRowValueEditor('+e+", "+t+", "+p+", '')\"><i class='fas fa-edit'></i></a></p></div>"}function tvc_requiresForAllOtherProductsField(e){return e.hasOwnProperty("c")}function tvc_addFeedSourceRow(e,t,p,n,i){var o=t>0?" dotted-top-line":"",a="initial",s=i?tvc_removeOutputCntrl(e,p.fieldName):"",r=t+1===p.mapping.length&&tvc_requiresForAllOtherProductsField(p.mapping[t]);p.customCondition&&(a="none");var l='<div class="feed-source-row" id="source-'+e+"-"+t+'">';return l+='<div class="add-to-feed-column colw col20w">',l+=0===t?'<span class="output-field-label">'+p.fieldName+"</span>"+s:"&nbsp;",l+="</div>",l+='<div class="source-data-column colw col80w'+o+'" id="source-data-'+e+"-"+t+'">',l+=tvc_addSourceDataAndQueriesColumn(t,p),l+="</div>",0===t&&0===p.changeValues.length&&(l+=tvc_editValueSpan(p.rowId,t,0,a)),l+="</div>",r&&(l+=tvc_orSelectorRowCode(e,t+1,o)),l}function tvc_removeOutputCntrl(e,t){var p=" (";return p+='<a class="remove-output tvc-btn tvc-btn-small" href="javascript:void(0)" id="',p+=e+'" onclick="tvc_removeRow('+e+", '"+t+"')\">"+tvc_feed_settings_form_vars.remove+"</a>",p+=") "}function tvc_conditionQueryCntrl(e,t,p,n,i,o,a){for(var s=tvc_queryOptionsEng(),r='<select class="select-control condition-query-select" id="'+i+"-"+e+"-"+t+"-"+p+(-1!==n?"-"+n:"")+'" onchange="'+o+"("+e+", "+t+", "+p+(-1!==n?", "+n:"")+')"> ',l=0;l<s.length;l++)r+=parseInt(a)!==l?'<option value = "'+l+'">'+s[l]+"</option>":'<option value = "'+l+'" selected>'+s[l]+"</option>";return r+="</select>"}function tvc_valueEditor(e,t,p,n){var i=tvc_valueStringToValueObject(n[t]),o=n[p]&&n[p].q?"none":"initial",a=tvc_countObjectItems(i)>0?i:tvc_makeCleanValueObject(),s=tvc_feed_settings_form_vars.and_change_values+" ",r='<div class="change-source-value-wrapper" id="edit-value-span-'+e+"-"+t+'-0">',l=0===t?' (<a class="remove-value-editor-query tvc-btn tvc-btn-small" href="javascript:void(0)" id="remove-value-editor-query-'+e+"-"+t+"-"+p+'" onclick="tvc_removeValueEditor('+e+", "+t+", "+p+')">'+tvc_feed_settings_form_vars.remove_value_editor+"</a>)":"";if(t>0&&(s=tvc_feed_settings_form_vars.and+" "),r+=s,r+=tvc_changeValueCntrl(e,t,p,a.condition),r+='<span id="value-editor-input-span-'+e+"-"+t+'-0">',r+=tvc_getCorrectValueSelector(e,t,0,a.condition,a.value,a.endValue),r+="</span>",r+='<span id="value-editor-selectors-'+e+"-"+t+"-"+p+'">',r+=tvc_forAllProductsAtChangeValuesSelector(e,t,p,o),r+='<span id="value-editor-input-query-remove-span-'+e+"-"+t+"-"+p+'">',r+=l,r+="</span>",r+="</span>",r+='<span id="value-editor-queries-'+e+"-"+t+'-0">',n[p]&&n[p].q)for(var c=1;c<n[p].q.length+1;c++){var u=tvc_convertQueryStringToQueryObject(n[p].q[c-1][c]),f=c>=n[p].q.length;r+=tvc_ifValueQuerySelector(e,t,c,u,f)}return r+="</span></div>"}function tvc_endrow(e){return'<div class="end-row" id="end-row-id-'+e+'">&nbsp;</div>'}function tvc_forAllProductsAtChangeValuesSelector(e,t,p,n){var i=t>0?tvc_feed_settings_form_vars.other+" ":"";return'<div class="colw col30w allproducts" id="value-editor-input-query-span-'+e+"-"+t+'-0" style="display:'+n+';float:right;">'+tvc_feed_settings_form_vars.all_other_products.replace("%other%",i)+' (<a class="edit-value-editor-query tvc-btn tvc-btn-small" href="javascript:void(0)" id="edit-value-editor-query-'+e+"-"+t+"-"+p+'" onclick="tvc_addValueEditorQuery('+e+", "+t+', 0)">'+tvc_feed_settings_form_vars.edit+"</a>)</div>"}function tvc_valueOptionsSingleInput(e,t,p,n){return" "+tvc_feed_settings_form_vars.to+tvc_valueOptionsSingleInputValue(e,t,p,n)}function tvc_valueOptionsElementInput(e,t,p,n){return" "+tvc_feed_settings_form_vars.with_element_name+tvc_valueOptionsSingleInputValue(e,t,p,n)}function tvc_valueOptionsSingleInputValue(e,t,p,n){return' <input type="text" onchange="tvc_valueInputOptionsChanged('+e+", "+t+", "+p+')" id="value-options-input-'+e+"-"+t+"-"+p+'" value="'+(n=tvc_escapeHtml(n))+'">'}function tvc_addFeedStatusChecker(e){return'<script type="text/javascript">var tvcStatusCheck_'+e+" = null; (function(){ tvcStatusCheck_"+e+" = window.setInterval( tvc_checkAndSetStatus_"+e+", 10000, "+e+" ); })(); function tvc_checkAndSetStatus_"+e+'( feedId ) {tvc_getCurrentFeedStatus( feedId, function( result ) {var data = JSON.parse( result );tvc_resetFeedStatus( data );if( data["status_id"] !== "3" && data["status_id"] !== "4" ) {window.clearInterval( tvcStatusCheck_'+e+" );}} );}<\/script>"}function tvc_valueOptionsReplaceInput(e,t,p,n,i){return'<input type="text" onchange="tvc_valueInputOptionsChanged('+e+", "+t+", "+p+' )" id="value-options-input-'+e+"-"+t+"-"+p+'" value="'+(n=tvc_escapeHtml(n))+'"> with <input type="text" onchange="tvc_valueInputOptionsChanged('+e+", "+t+", "+p+')" id="value-options-input-with-'+e+"-"+t+"-"+p+'" value="'+i+'">'}function tvc_valueOptionsRecalculate(e,t,p,n,i){for(var o=tvc_changeValuesRecalculateOptions(),a='<select class="select-value-options" id="value-options-recalculate-options-'+e+"-"+t+'-0">',s=0;s<o.length;s++)a+=o[s]!==n?'<option value = "'+s+'">'+o[s]+"</option>":'<option value = "'+s+'" selected>'+o[s]+"</option>";return a+="</select>",a+=' <input type="text" onchange="tvc_valueInputOptionsChanged('+e+", "+t+", "+p+')" id="value-options-input-'+e+"-"+t+"-"+p+'" value="'+i+'">'}function tvc_changeValueCntrl(e,t,p,n){for(var i=tvc_changeValuesOptions(),o='<select class="select-value-options" id="value-options-'+e+"-"+t+'-0" onchange="tvc_valueOptionChanged('+e+", "+t+', 0)"> ',a=0;a<i.length;a++)o+=i[a]!==n?'<option value = "'+a+'">'+i[a]+"</option>":'<option value = "'+a+'" selected>'+i[a]+"</option>";return o+="</select>"}function tvc_mapToDefaultCategoryElement(e,t){var p="",n="";switch(t){case"default":p=tvc_feed_settings_form_vars.map_to_default_category;break;case"shopCategory":p=tvc_feed_settings_form_vars.use_shop_category;break;default:p=t}return"shopCategory"!==t&&(n=' (<a class="edit-feed-mapping tvc-btn tvc-btn-small" href="javascript:void(0)" data-id="'+e+'" id="edit-feed-mapping-'+e+'" onclick="tvc_editCategoryMapping('+e+')">'+tvc_feed_settings_form_vars.edit+"</a>)"),'<div class="feed-category-map-to-default" id="feed-category-map-to-default-'+e+'" style="display:initial"><span id="category-text-span-'+e+'">'+p+"</span>"+n+"</div>"}function tvc_mapToCategoryElement(e,t){return'<div class="feed-category-map" id="feed-category-map-'+e+'" style="display:initial"><span id="category-text-span-'+e+'">'+t+'</span> (<a class="edit-feed-mapping tvc-btn tvc-btn-small" href="javascript:void(0)" data-id="'+e+'" id="edit-feed-mapping-'+e+'" onclick="tvc_editCategoryMapping('+e+')">'+tvc_feed_settings_form_vars.edit+"</a>)</div>"}function tvc_categorySource(){return'<span id="category-source-string">'+tvc_feed_settings_form_vars.defined_by_category_mapping_tble+"</span>"}function tvc_freeCategoryInputCntrl(e,t,p){return'<input type="text" name="free-category" class="free-category-text-input custom-category-'+e+'" id="free-category-text-input" onchange="tvc_freeCategoryChanged(\''+e+"', '"+t+"')\""+(p?' value="'+p+'"':"")+">"}function tvc_inputFieldCntrl(e,t,p,n,i,o,a){var s=i?'<option value="advised" itemprop="basic">'+tvc_feed_settings_form_vars.use_advised_source+"</option>":"",r=n?" selected":"",l=t>0?tvc_feed_settings_form_vars.or+" ":"",c=o?'<option value="combined" selected>'+tvc_feed_settings_form_vars.combined_source_fields+"</option>":'<option value="combined" itemprop="basic">'+tvc_feed_settings_form_vars.combined_source_fields+"</option>",u=a?'<option value="category_mapping" itemprop="basic">'+tvc_feed_settings_form_vars.category_mapping+"</option>":"";return'<div class="select-control">'+l+'<select class="select-control input-select" id="input-field-cntrl-'+e+"-"+t+'" onchange="tvc_changedOutput('+e+", "+t+", '"+i+'\')"> <option value="select" itemprop="basic">-- '+tvc_feed_settings_form_vars.select_a_source_field+" --</option>"+s+'<option value="static" itemprop="basic"'+r+">"+tvc_feed_settings_form_vars.fill_with_static_value+"</option>"+u+c+tvc_fixedSourcesList(p)+"</select></div>"}function tvc_combinedInputFieldCntrl(e,t,p,n,i,o){var a=n&&n.startsWith("static#"),s=a?" selected":"",r=a?tvc_feedStaticValueSelector(i,e,t,p,n.substring(7),o):"";return'<select class="select-control input-select align-left" id="combined-input-field-cntrl-'+e+"-"+t+"-"+p+'" onchange="tvc_changedCombinedOutput('+e+", "+t+", "+p+')"> <option value="select" itemprop="basic">-- '+tvc_feed_settings_form_vars.select_a_source_field+' --</option><option value="static" itemprop="basic"'+s+">"+tvc_feed_settings_form_vars.fill_with_static_value+"</option>"+tvc_fixedSourcesList(n)+'</select><div class="static-value-control" id="static-value-control-'+e+"-"+t+"-"+p+'">'+r+"</div>"}function tvc_combinedSeparatorCntrl(e,t,p,n){return'<select class="select-control input-select align-left" id="combined-separator-cntrl-'+e+"-"+t+"-"+p+'" onchange="tvc_changedCombinationSeparator('+e+", "+t+", "+p+')"> '+tvc_getCombinedSeparatorList(n)+"</select>"}function tvc_alternativeInputFieldCntrl(e,t){var p="static"===t?" selected":"";return'<select class="select-control alternative-input-select" id="alternative-input-field-cntrl-'+e+'" onchange="tvc_changedAlternativeSource('+e+')"> <option value="select">-- '+tvc_feed_settings_form_vars.select_a_source_field+' --</option><option value="empty">-- '+tvc_feed_settings_form_vars.an_empty_field+' --</option><option value="static"'+p+">"+tvc_feed_settings_form_vars.fill_with_static_value+"</option>"+tvc_fixedSourcesList(t)+"</select>"}function tvc_outputFieldCntrl(e){return'<select class="select-control input-select" id="output-field-cntrl-'+e+'"> '+(3===e?'<option value="no-value">-- '+tvc_feed_settings_form_vars.add_recommended_output+" --</option>":'<option value="no-value">-- '+tvc_feed_settings_form_vars.add_optional_output+" --</option>")+tvc_getOutputFieldsList(e)+"</select>"}function tvc_customOutputFieldCntrl(){return'<input type="text" name="custom-output-title" id="custom-output-title-input" placeholder="Enter an output title" onfocusout="tvc_changedCustomOutputTitle()">'}function tvc_conditionFieldCntrl(e,t,p,n,i,o,a){var s=-1!==n?"-"+n:"",r="or-field-cntrl"===i?'<option value="empty">-- '+tvc_feed_settings_form_vars.an_empty_field+" --</option>":"";return'<select class="select-control input-select" id="'+i+"-"+e+"-"+t+"-"+p+s+'"'+(a?' onchange="'+a+'"':"")+'> <option value="select">-- '+tvc_feed_settings_form_vars.select_a_source_field+" --</option>"+r+tvc_fixedSourcesList(o)+"</select></br>"}function tvc_filterPreCntrl(e,t,p){var n='<select id="filter-pre-control-'+e+"-"+t+'" onchange="tvc_filterChanged('+e+", "+t+')">';return t>1?"1"===p?n+'<option value="2">'+tvc_feed_settings_form_vars.or+'</option><option value="1" selected>'+tvc_feed_settings_form_vars.and+"</option></select>":n+'<option value="2" selected>'+tvc_feed_settings_form_vars.or+'</option><option value="1">'+tvc_feed_settings_form_vars.and+"</option></select>":""}function tvc_filterSourceCntrl(e,t,p){return'<select class="select-control input-select" id="filter-source-control-'+e+"-"+t+'" onchange="tvc_filterChanged('+e+", "+t+')"><option value="select">-- '+tvc_feed_settings_form_vars.select_a_source_field+" --</option>"+tvc_fixedSourcesList(p)+"</select>"}function tvc_filterOptionsCntrl(e,t,p){var n=tvc_queryOptionsEng(),i='<select class="select-control condition-query-select" id="filter-options-control-'+e+"-"+t;i+='" onchange="tvc_filterChanged('+e+", "+t+')">';for(var o=0;o<n.length;o++)i+=parseInt(p)!==o?'<option value = "'+o+'">'+n[o]+"</option>":'<option value = "'+o+'" selected>'+n[o]+"</option>";return i+="</select>"}function tvc_filterInputCntrl(e,t,p,n){var i=e+"-"+t+"-"+p,o=p>1?" "+tvc_feed_settings_form_vars.and+" ":"",a=1===p?1:3,s="";return'<span id="filter-input-span-'+i+'"'+((s=p>1?n&&n.includes("#")?n.split("#")[a]:"":n||"")?'style="display:initial"':'style="display:none"')+">"+o+'<input type="text" name="filter-value" id="filter-input-control-'+i+'" onchange="tvc_filterChanged('+e+", "+t+", "+p+')" value="'+s+'"></span>'}